{"version":3,"file":"dist/spaces.min.js","sources":["spaces.js"],"names":["global","copy","obj","F","prototype","loadScript","url","sucess","head","document","getElementsByTagName","insertBefore","firstChild","createElement","script","onload","undefined","type","src","appendChild","contentLoaded","win","fn","done","top","doc","root","documentElement","add","addEventListener","rem","pre","init","e","readyState","call","poll","doScroll","setTimeout","createEventObject","frameElement","request","JsonpRequest","require","ImgRequest","jsonp","make","get","img","module","exports","merge","destination","source","property","hasOwnProperty","loadscript","events","EventEmitter","listeners","load","click","readyStateChange","this","event","addListener","push","on","emit","data","eventListeners","length","i","queryString","parse","qs","sep","eq","split","prop","key","value","isNaN","parseInt","stringify","list","param","join","querystring","contentloaded","Core","extend","attributes","Event","apply","arguments","date","Date","campaign_id","ad_id","space_id","site_id","page_url","time","hour","ip","browser","visible","getFullDate","toISOString","self","required","track","save","getDate","getTime","getHour","validate","attr","toQuery","Error","Ad","id","name","file","link","status","alternative","ISpaceBehaviour","getAd","RandomSpaceBehaviour","context","ads","total","index","Math","floor","random","ad","splice","Space","behaviour","setBehaviour","Page","spaces","getActiveContent","map","space","filter","Site","domains","hasDomain","entry","found","content","indexOf","result","forEach","domain","wildcard","replace","Http","isEmptyObject","host","protocol","port","path","query","getUrl","HttpRequest","callback","send","ok","options","instance","queryCallback","str","wrap","wrapper","Connection","_index","requests","newId","next","req","sign","getCallbackPath","DomElement","element","create","tagName","setAttributes","append","child","findParentTag","tag","parent","parentNode","nodeName","addDomEventListener","eventListener","attachEvent","AdDom","trackerUrl","impression","getSpaceId","node","isVisible","ownerDocument","body","scrollTop","left","scrollLeft","height","clientHeight","width","clientWidth","offsetTop","offsetLeft","offsetHeight","offsetWidth","style","defaultView","getComputedStyle","halfHeight","halfWidth","horizontalVisible","verticalVisible","display","visibility","setImpression","config","getClickTag","page_id","escape","SpaceDom","placements","placeAd","innerHTML","getElement","getElementById","Swf","align","menu","quality","scale","wmode","allowScriptAccess","allowNetworking","getSrc","preloader","EmbedAd","setAttribute","ObjectAd","superclass","CLASSID","CODEBASE","Param","clone","cloneNode","base","ImgAd","href","clickTag","onclick","window","open","HtmlAd","Embed","FlashAd","__construct","Img","_id","BasicSpace","tracker","connection","ExpandableSpace","expandEvent","retreatEvent","position","expand","state","retract","clip","childAd","FloaterSpace","close","removeChild","bt","StaticSpace","Expandable","Floater","Static","size","adserver","adsPerSpace","page","scriptTagId","widgets","Tracker","opts","err","message","Adserver","targeting","pages","Adlayer","api","lib","plugins","connections","connect","markAdAsLoaded","defaultConfig","adlayer","option","SpaceApi","getData","ads_per_space","renderSpace","getElementsByClass","searchClass","classElements","els","elsLen","pattern","RegExp","j","test","className","pluginName","plugin","widget","placement"],"mappings":"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"}