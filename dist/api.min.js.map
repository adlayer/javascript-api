{"version":3,"file":"dist/api.min.js","sources":["api.js"],"names":["global","copy","obj","F","prototype","loadScript","url","sucess","head","document","getElementsByTagName","insertBefore","firstChild","createElement","script","onload","undefined","type","src","appendChild","contentLoaded","win","fn","done","top","doc","root","documentElement","add","addEventListener","rem","pre","init","e","readyState","call","poll","doScroll","setTimeout","createEventObject","frameElement","request","JsonpRequest","require","ImgRequest","jsonp","make","get","img","module","exports","merge","destination","source","property","hasOwnProperty","loadscript","events","EventEmitter","listeners","load","click","readyStateChange","this","event","addListener","push","on","emit","eventListeners","length","i","queryString","parse","qs","sep","eq","split","prop","key","value","isNaN","parseInt","stringify","list","param","join","querystring","contentloaded","Core","extend","attributes","Event","apply","arguments","date","Date","campaign_id","ad_id","space_id","site_id","page_url","time","hour","ip","browser","getFullDate","toISOString","self","required","track","save","getDate","getTime","getHour","validate","attr","toQuery","Error","Ad","id","name","file","link","status","alternative","ISpaceBehaviour","getAd","RandomSpaceBehaviour","context","ads","total","index","Math","floor","random","ad","splice","Space","behaviour","setBehaviour","Page","spaces","getActiveContent","map","space","filter","Site","domains","hasDomain","entry","found","content","indexOf","result","forEach","domain","wildcard","replace","Http","isEmptyObject","host","protocol","port","path","query","getUrl","HttpRequest","callback","send","data","ok","options","instance","queryCallback","str","wrap","wrapper","Connection","_index","requests","newId","next","req","sign","getCallbackPath","Tracker","connection","opts","err","message","DomElement","element","create","tagName","setAttributes","append","child","findParentTag","tag","parent","parentNode","nodeName","addDomEventListener","eventListener","attachEvent","AdDom","tracker","getSpaceId","node","getClickTag","config","trackerUrl","page_id","clickTag","href","SpaceDom","placements","placeAd","getElement","getElementById","Swf","align","menu","quality","scale","wmode","allowScriptAccess","allowNetworking","getSrc","preloader","EmbedAd","setAttribute","height","width","ObjectAd","superclass","CLASSID","CODEBASE","Param","clone","cloneNode","base","ImgAd","style","Embed","FlashAd","__construct","Img","_id","BasicSpace","ExpandableSpace","expandEvent","retreatEvent","position","expand","state","retract","clip","childAd","FloaterSpace","close","removeChild","bt","innerHTML","onclick","StaticSpace","Expandable","Floater","Static","size","adserver","adsPerSpace","page","scriptTagId","Adserver","pages","Adlayer","api","lib","connections","connect","markAdAsLoaded","window","adlayer"],"mappings":"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"}